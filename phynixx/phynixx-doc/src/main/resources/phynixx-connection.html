<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE>Allgemeines Transaktionsprotokoll</TITLE>
	<META NAME="GENERATOR" CONTENT="LibreOffice 4.1.0.4 (Windows)">
	<META NAME="AUTHOR" CONTENT="AMIS">
	<META NAME="CREATED" CONTENT="20080122;175500000000000">
	<META NAME="CHANGEDBY" CONTENT="Christoph Schmidt-casdorff">
	<META NAME="CHANGED" CONTENT="20081031;114117000000000">
	<META NAME="CLASSIFICATION" CONTENT="Phynixx">
	<META NAME="Info 1" CONTENT="">
	<META NAME="Info 2" CONTENT="">
	<META NAME="Info 3" CONTENT="">
	<META NAME="Info 4" CONTENT="">
	<STYLE TYPE="text/css">
	<!--
		@page { size: 21cm 29.7cm; margin-left: 2cm; margin-right: 1cm; margin-top: 1.4cm; margin-bottom: 1.27cm }
		P { margin-top: 3.28cm; margin-bottom: 0cm; direction: ltr; color: #ff0000; display: none; text-align: center; widows: 2; orphans: 2 }
		P.western { font-family: "Arial", sans-serif; font-weight: bold }
		P.cjk { font-weight: bold }
		P.ctl { font-size: 10pt }
		H1 { margin-bottom: 0.11cm; background: transparent; direction: ltr; widows: 2; orphans: 2; page-break-before: always; page-break-after: avoid }
		H1.western { font-family: "Garamond", serif; font-size: 16pt; font-weight: bold }
		H1.cjk { font-size: 16pt; font-weight: bold }
		H1.ctl { font-family: "Arial", sans-serif; font-size: 16pt; font-weight: bold }
		H2 { margin-bottom: 0.11cm; direction: ltr; widows: 2; orphans: 2; page-break-before: auto; page-break-after: auto }
		H2.western { font-family: "Garamond", serif; font-size: 15pt; font-style: normal; font-weight: bold }
		H2.cjk { font-family: "Lucida Sans Unicode"; font-size: 14pt; font-style: normal; font-weight: bold }
		H2.ctl { font-family: "Arial", sans-serif; font-size: 14pt; font-style: normal; font-weight: bold }
		TD P { margin-bottom: 0.11cm; direction: ltr; widows: 2; orphans: 2 }
		TD P.western { font-family: "Garamond", serif }
		TH P { margin-bottom: 0.11cm; direction: ltr; text-align: center; widows: 2; orphans: 2 }
		TH P.western { font-family: "Garamond", serif; font-weight: bold }
		TH P.cjk { font-weight: bold }
		TH P.ctl { font-weight: bold }
		H3 { margin-bottom: 0.21cm; direction: ltr; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid }
		H3.western { font-family: "Garamond", serif; font-size: 14pt; font-style: italic; font-weight: bold }
		H3.cjk { font-family: "Lucida Sans Unicode"; font-size: 14pt; font-style: italic }
		H3.ctl { font-family: "Tahoma"; font-size: 14pt; font-style: italic }
		A:link { color: #0000ff; text-decoration: underline }
		A:visited { color: #800000; text-decoration: underline }
	-->
	</STYLE>
</HEAD>
<BODY LANG="de-DE" LINK="#0000ff" VLINK="#800000" DIR="LTR">
<DIV TYPE=HEADER>
	<TABLE WIDTH=449 CELLPADDING=5 CELLSPACING=0>
		<COL WIDTH=439>
		<TR>
			<TD WIDTH=439 VALIGN=TOP STYLE="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: none; padding: 0cm">
				<P ALIGN=LEFT STYLE="margin-top: 0cm; font-weight: normal"><BR>
				</P>
			</TD>
		</TR>
		<TR>
			<TD WIDTH=439 VALIGN=TOP STYLE="border-top: 1.00pt solid #000000; border-bottom: none; border-left: none; border-right: none; padding: 0cm">
				<P LANG="zxx" ALIGN=LEFT STYLE="margin-top: 0.11cm"><BR>
				</P>
			</TD>
		</TR>
	</TABLE>
	<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 2.5cm; font-weight: normal">
	<BR><BR>
	</P>
</DIV>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 2.12cm; font-weight: normal">
<BR><BR>
</P>
<P ALIGN=CENTER STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><SDFIELD TYPE=DOCINFO SUBTYPE=THEME>Phynixx</SDFIELD></FONT></P>
<P ALIGN=CENTER STYLE="margin-top: 0.21cm; font-weight: normal"><BR>
</P>
<P ALIGN=CENTER STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><SDFIELD TYPE=DOCINFO SUBTYPE=TITLE>Allgemeines Transaktionsprotokoll</SDFIELD></FONT></P>
<P ALIGN=CENTER STYLE="margin-top: 0.21cm; font-weight: normal"><BR>
</P>
<P ALIGN=CENTER STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=6>Christoph
Schmidt-Casdorff</FONT></FONT></FONT></P>
<P ALIGN=CENTER STYLE="margin-top: 0.21cm; font-weight: normal"><BR>
</P>
<P CLASS="western" ALIGN=CENTER STYLE="margin-top: 2.12cm; margin-bottom: 0.11cm">
<FONT COLOR="#000000">&mdash; <FONT FACE="Garamond, serif"><B>Version
1.2 (09.06.2008)Stand: 09.02.2004&mdash;</B></FONT></FONT></P>
<P CLASS="western" ALIGN=CENTER STYLE="margin-top: 2.12cm; margin-bottom: 0.11cm">
<BR><BR>
</P>
<P CLASS="western"><FONT FACE="Garamond, serif">Diese Seite nicht
bearbeiten!<BR>Angaben werden aus den Dokumenteigenschaften
&uuml;bernommen!</FONT></P>
<P CLASS="western" ALIGN=CENTER STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<TABLE WIDTH=690 CELLPADDING=5 CELLSPACING=0 STYLE="page-break-before: always">
	<COL WIDTH=108>
	<COL WIDTH=83>
	<COL WIDTH=469>
	<TR VALIGN=TOP>
		<TD WIDTH=108 STYLE="border: none; padding: 0cm">
			<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0.11cm"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><B>Aktueller
			Stand:</B></FONT></FONT></P>
		</TD>
		<TD WIDTH=83 STYLE="border: none; padding: 0cm">
			<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0.11cm; font-weight: normal"><A NAME="DokumentStand"></A>
			<FONT COLOR="#000000"><FONT FACE="Garamond, serif">23.01.2008</FONT></FONT></P>
		</TD>
		<TD WIDTH=469 STYLE="border: none; padding: 0cm">
			<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0.11cm; display: none">
			<FONT COLOR="#ff0000"><FONT FACE="Garamond, serif"><B>&lt;&lt;
			Dieses Datum wird in die Fu&szlig;zeilen &uuml;bernommen!</B></FONT></FONT></P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<TABLE WIDTH=690 CELLPADDING=5 CELLSPACING=0>
	<COL WIDTH=107>
	<COL WIDTH=188>
	<COL WIDTH=363>
	<TR VALIGN=TOP>
		<TD WIDTH=107 BGCOLOR="#d8d8d8" STYLE="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0cm; padding-left: 0.12cm; padding-right: 0cm">
			<P ALIGN=LEFT STYLE="margin-top: 0.11cm"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>Datum</FONT></FONT></FONT></P>
		</TD>
		<TD WIDTH=188 BGCOLOR="#d8d8d8" STYLE="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0cm; padding-left: 0.12cm; padding-right: 0cm">
			<P ALIGN=LEFT STYLE="margin-top: 0.11cm"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>Bearbeiter</FONT></FONT></FONT></P>
		</TD>
		<TD WIDTH=363 BGCOLOR="#d8d8d8" STYLE="border: 1px solid #000000; padding: 0cm 0.12cm">
			<P ALIGN=LEFT STYLE="margin-top: 0.11cm"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>&Auml;nderungen</FONT></FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=107 STYLE="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0cm; padding-left: 0.12cm; padding-right: 0cm">
			<P ALIGN=LEFT STYLE="margin-top: 0.11cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>09.02.2008</FONT></FONT></FONT></P>
		</TD>
		<TD WIDTH=188 STYLE="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0cm; padding-left: 0.12cm; padding-right: 0cm">
			<P ALIGN=LEFT STYLE="margin-top: 0.11cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>Christoph
			Schmidt-Casdorff</FONT></FONT></FONT></P>
		</TD>
		<TD WIDTH=363 STYLE="border: 1px solid #000000; padding: 0cm 0.12cm">
			<P ALIGN=LEFT STYLE="margin-top: 0.11cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>Erstellung</FONT></FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=107 STYLE="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0cm; padding-left: 0.12cm; padding-right: 0cm">
			<P ALIGN=LEFT STYLE="margin-top: 0.11cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>09.06.2008</FONT></FONT></FONT></P>
		</TD>
		<TD WIDTH=188 STYLE="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0cm; padding-left: 0.12cm; padding-right: 0cm">
			<P ALIGN=LEFT STYLE="margin-top: 0.11cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>Christoph
			Schmidt-Casdorff</FONT></FONT></FONT></P>
		</TD>
		<TD WIDTH=363 STYLE="border: 1px solid #000000; padding: 0cm 0.12cm">
			<P ALIGN=LEFT STYLE="margin-top: 0.11cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>&Uuml;berarbeitung</FONT></FONT></FONT></P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<DIV ID="Inhaltsverzeichnis1" DIR="LTR" STYLE="background: transparent">
	<P ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Technologischer
	Kontext	3</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 0.42cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Transaktionssteuerung	3</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Zustands&uuml;berg&auml;nge
	einer TA-gesicherten Resource	3</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Persistenzsysteme	4</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Anforderung an
	Zustandsprotokollierung	5</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Logging in
	presumed abort Algorithmus	6</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Rollback- /
	Recorveryinformationen	7</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 0.42cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">JTA - Java
	Transaction Architecture	9</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Kommunikation
	zwischen TA-Mamanager und XAResource	10</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">XID - was und
	warum	10</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">isSameRM	10</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">&Uuml;berlagernde
	TX an einer XAResource	10</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Locale und
	globale Transaktionen	10</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Thread of
	Control	10</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Serialisierung
	der XID	11</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Phynixx &ndash;
	der Plan	12</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Phynixx &ndash;
	das Projekt	13</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 0.42cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Projektstruktur
	in Eclipse 	13</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 0.42cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">PhynixxConnection	14</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Referenzimplementierung	14</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">RecordLogging	15</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 0.42cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">PhynixxConnectionProxy	20</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 0.42cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">all together &ndash;
	Integration aller Komponenten	20</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 0.42cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">XA resource &ndash;
	phynixx-xa	21</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-left: 1cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Timeout&uuml;berwachung
		21</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Glossar	23</FONT></FONT></P>
	<P ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Bibliography	25</FONT></FONT></P>
</DIV>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<H1 CLASS="western"><FONT FACE="Garamond, serif">Technologischer
Kontext</FONT></H1>
<H2 CLASS="western"><FONT FACE="Garamond, serif">Transaktionssteuerung</FONT></H2>
<H3 CLASS="western"><FONT FACE="Garamond, serif">Zustands&uuml;berg&auml;nge
einer TA-gesicherten Resource</FONT></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">In [gupta-1997] 
Kap 3.2.1 sind die Zustands&uuml;berg&auml;nge einer
transaktions<SPAN STYLE="font-style: normal">gesicherten Ressource </SPAN>
in einem<I> 1/2 phase commit</I> Protokoll beschrieben. (<I>Abort(ing)</I>
entspricht dem g&auml;ngigeren <I>rollback(-ing)</I>.)</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT FACE="Garamond, serif">Bzgl.
des </FONT><FONT FACE="Garamond, serif"><I>1 phase commit protocols</I></FONT><FONT FACE="Garamond, serif">
lassen diese wie inAbbildung 1 r</FONT><FONT FACE="Garamond, serif"><FONT SIZE=3><FONT FACE="Garamond, serif">eduzieren.</FONT></FONT></FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<IMG SRC="phynixx-connection_html_423eca71.png" NAME="graphics3" ALIGN=LEFT WIDTH=495 HEIGHT=275 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Abbildung
1 Zustands&uuml;berg&auml;nge bei <I>1 Phase Commit</I></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<IMG SRC="phynixx-connection_html_6d36f948.png" NAME="graphics4" ALIGN=LEFT WIDTH=457 HEIGHT=424 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><SPAN STYLE="font-style: normal">Abbildung
2 Zustands&uuml;berg&auml;nge bei </SPAN><I>2 Phase Commit</I></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-style: normal; font-weight: normal">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-style: normal; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Diese
beiden Zustands&uuml;bergange sind Grundlage f&uuml;r die weiteren
Diskussionen.</FONT></FONT></FONT></P>
<H3 CLASS="western"><FONT FACE="Garamond, serif">Persistenzsysteme</FONT></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Persistenzsysteme
ohne eigene Transaktionssematik (Filesysteme, einige Archivsysteme
(<I>centera</I>)) m&uuml;ssen bei ihrer Einbettung in eine
Transaktionssystem unterst&uuml;tzt werden. Die Informationen, um 
ggf. <I>rollback </I>durchf&uuml;hren zu k&ouml;nnen, m&uuml;ssen
au&szlig;erhalb des Peristenzsystems protokolliert werden.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Bzgl. der
ben&ouml;tigten Informationen zur Durchf&uuml;hrung eines <I>rollbacks
</I>k&ouml;nnen 3 Systeme unterschieden</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">werden</FONT></FONT></P>
<UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Persistenzsysteme
	mit Transaktionssemantik (Datenbanken, JMS)</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Persistenzsysteme,
	bei denen zum <I>rollback </I>Zustandsinformationen zu Beginn der TX
	reichen (z.B. sequentielle Schreiben in Dateien)</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Persistenzsysteme,
	bei denen die einzelnen Ver&auml;nderungen des Systems protokolliert
	werden und im 'Rollback'-Fall einzeln und in umgekehrter
	Reihenfolgen zur&uuml;ckgesetzt werden m&uuml;ssen
	(z.B.Archivsysteme wie Centera, Filesysteme)
	(<U><B>Kompensationsverfahren</B></U>)</FONT></FONT></P>
</UL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Bei Typ 3 m&uuml;ssen
die notwendigen Informationen (im weiteren <I>LogRecord</I>)
protokolliert werden. Bevor eine Aktion ausgef&uuml;hrt wird, werden
ausreichende Informationen protokolliert, um diese Aktion invertieren
zu k&ouml;nnen. Diese Informationen<I> </I>werden beim <I>rollback
</I>der TX oder beim <I>recovery </I>genutzt.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><I>Recovery</I>
tritt dann auf, wenn die Transaktionssteuerung w&auml;hrend der TA
abbricht und das Persistenzsystem in einem undefinierten Zustand
zur&uuml;ckl&auml;&szlig;t. In diesem Fall m&uuml;ssen die <I>LogRecords
</I>restauriert werden und auf Basis dieser <I>LogRecords </I>das
Persistenzsystem in einen in einen definierten Zustand &uuml;berf&uuml;hrt
werden.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT FACE="Garamond, serif">Befand
sich das Persistenzsystem beim Abbruch bereits in der </FONT><FONT FACE="Garamond, serif"><I>committing
phase,</I></FONT><FONT FACE="Garamond, serif"> so kann nat&uuml;rlich
nicht mehr </FONT><FONT FACE="Garamond, serif"><I>rollbacked</I></FONT><FONT FACE="Garamond, serif">
werden, ( da typischer Weise Ver&auml;nderungen w&auml;hrend des
</FONT>commit <FONT FACE="Garamond, serif">per Definition nicht mehr
invertierbar sind,) sondern das </FONT>commit <FONT FACE="Garamond, serif">muss
zu Ende gebracht werden. Es erfolgt ein sogenanntes </FONT>rollforward
<FONT FACE="Garamond, serif">.</FONT></FONT></FONT></P>
<H3 CLASS="western"><FONT FACE="Garamond, serif">Anforderung an
Zustandsprotokollierung</FONT></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Die
unterschiedlichen Zust&auml;nde und die in den
Zust&auml;nden/Zustands&uuml;berg&auml;ngen erzeugten
Steuerungsinformationen werden in <I>LogRecord</I> abgelegt. An
dieser Stelle wird nichts &uuml;ber  das Verfahren zur der
Protokollierung der <I>LogRecord </I><SPAN STYLE="font-style: normal">ausgesagt.
</SPAN></FONT></FONT>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Diese <I>LogRecords
</I>m&uuml;ssen bestimmte Bedingungen erf&uuml;llen</FONT></FONT></P>
<UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Die Aktionen
	m&uuml;ssen auf dem Persistenzmedium invertierbar sein. Ausnahme
	sind Aktionen, die w&auml;hrend des <I>commits </I>ausgef&uuml;hrt
	werden.</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Bei
	Archivsystemen ist es nicht ohne weiteres m&ouml;glich, Eintr&auml;ge
	zu ver&auml;ndern. Das macht ja gerade ein revisionssicheres
	Archivsystem aus. Ist dem Eintrag eine Verweildauer zugewiesen,
	w&auml;hrend de nicht ver&auml;ndert werden darf, so ist diese
	Aktion <I>nicht mehr </I>invertierbar.</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Die Aktionen
	m&uuml;ssen <I>idempotent </I>sein, d.h. eine mehrfache Ausf&uuml;hrung
	der Invertierung muss immer zum selben Ergebnis im Persistenzsystem
	f&uuml;hren. Dies ist wichtig, wenn beim <I>recovery </I>Probleme
	auftreten und das <I>recovery </I>eventuell wiederholt werden muss.
	Auch falls die Aktion loggt wurde, kann sie gar nicht oder nur
	teilweise durchgef&uuml;hrt worden sein. Auch in diesem Fall muss
	das Recovery gelingen und den Zustand vor Schreiben des LogRecords
	wiederherstellen.</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Die <I>committing
	phase </I>wird beim Recovery nicht invertiert, sondern zum
	vollst&auml;ndigen Abschluss gebracht ( <I>roll forward </I>).
	LogRecords und zugrunde liegende Aktionen dieser Phase m&uuml;ssen
	dies unterst&uuml;tzen. Dabei ist ebenfalls zu ber&uuml;cksichtigen,
	dass die Aktionen auch nur teilweise durchgef&uuml;hrt wurden.</FONT></FONT></P>
</UL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Beim <I>2 phase
commit </I>werden w&auml;hrend der <I>preparing phase </I>Aktionen
ausgef&uuml;hrt, die in einem nachgeordneten <I>rollback </I>explizit
invertiert werden m&uuml;ssen. Was passiert, wenn von den z.B. 3
Kommandos in der <I>preparing </I>-Phase die ersten 2 gelingen und
das 3-te fehlschl&auml;gt. Da die ersten beiden i.d.R. den Zustand
des Persistenzmediums ver&auml;ndert haben, m&uuml;ssen sie explizit
invertiert werden, um den Zustand vor dem <I>prepare
</I>wiederherzustellen. Auf diesem setzt der Transaktionmanager bei
seinen weiteren Bem&uuml;hungen auf.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"> <FONT FACE="Garamond, serif">Dies ist aber
m&ouml;glich, da w&auml;hrend <I>preparing </I>keine irreversiblen
Aktionen durchgef&uuml;hrt werden. W&auml;hrend der <I>prepare phase
</I>werden also ebenfalls einzelne <I>rollback LogRecords
</I>protokolliert.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">&Uuml;bel ergeht
es dem Persistenzsystem, wenn w&auml;hrend der <I>committing phase
</I>abgebrochen wurde. Da es kein Zur&uuml;ck gibt, muss ein <I>recovery
</I>w&auml;hrend eines Abbruchs in der <I>committing phase </I>die TX
zu Ende bringen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Dazu m&uuml;ssen
aber die ben&ouml;tigten Informationen zur Verf&uuml;gung stehen.
Diese mussten also vor dem Abbruch en block protokolliert worden
sein.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Im Gegensatz zu
<I>rollback LogRecords </I>, die einzelne protokolliert werden
k&ouml;nnen, werden <I>rollforward LogRecords </I>en block vor beginn
der <I>commtting phase </I>protokolliert. Falls der Fortschritt des
<I>commits</I> protokolliert werden muss, um ein recorvery steuern zu
k&ouml;nnen (bis wohin ist das <I>commit</I> tats&auml;chlich bereits
ausgef&uuml;hrt worden?) sind evtl. so genannte <I>rollforward status
LogRecords</I> protokolliert. </FONT></FONT>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Im Umkehrschluss
folgt daraus, dass irreversible Aktionen nur in der <I>committing
phase </I>zum Tragen kommen, denn ein Fehler/Abbruch w&auml;hrend
dieser Phase f&uuml;hrt beim recovery zum <I>roll forward </I>.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">In vielen F&auml;llen
kann man sich mit dem so genannten mit dem Verfahren helfen, das in
<I>the Last-Resource Gambit </I>bezeichnet wird. Die
Transaktionssteuerung wei&szlig; um die einzelnen Charakteristika der
Persistenzsysteme und stellt ihre Verarbeitungslogik darauf ein. </FONT></FONT>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Ist z.B. nur ein
nicht XA-kompatible Persistenzmedium an der Transaktion beteiltigt,
so wird nachdem <I>prepare </I>an alle anderen beteiligten Resourcen
das <I>commit </I>der Nicht-kompatiblen gerufen und anschlie&szlig;end
das <I>commit </I>der XA-Resourcen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Dieses Verfahren
l&ouml;st zwar auch nicht das oben beschrieben Problem der
irreversiblen Aktionen, die w&auml;hrend des <I>prepare</I>-Phase
fehlschlagen, aber dasjenige des <I>rollbacks  </I>nach erfolgreicher
<I>prepare</I>-Phase.</FONT></FONT></P>
<H3 CLASS="western"><B>Logging in </B><I><B>presumed abort
</B></I><B>Algorithmus</B></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Das <I>presumed
abort </I>- Algorithmus ist in definiert.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-left: 1.25cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000">&bdquo;<FONT FACE="Garamond, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><I>As
described in the previous section, the 2PC protocol requires
transmission of several messages and force-writing of several log
records. A variant of the 2PC protocol, called presumed abort (PA),
attempts to reduce these overheads by requiring all cohorts to follow
a &quot;in the no information case, abort&quot; rule.&ldquo;</I></FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><I>presumed abort
</I>bedeutet als Konsequenz, dass der TM nur TX vor und w&auml;hrend
der eigenlichen c<I>ommitting phase </I>( <I>prepare</I>,<I>commit </I>)
protokollieren muss. Insbesondere m&uuml;ssen weder <I>rollback</I>-Records
noch Informationen vor der c<I>ommitting phase </I>geloggt werden. Es
werden ebenfalls keine Informationen f&uuml;r TX geloggt, die zu 1PC
optimiert wurden.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Dieses Verfahren
setzt im Falle eines Abbruchs voraus, dass alle eingesetzten RM in
der Lage sind, ihre Resourcen zu restaurieren (<I>recover</I>). Der
TM &uuml;bernimmt nur eine Koordination der abgebrochenen TX, wenn
diese w&auml;hrend der c<I>ommitting phase </I>( 2PC mit
<I>prepare/commit</I>) abgebrochen ist.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Ein
Logging-Verfahren, dass diese Eigenschaft unterst&uuml;tzt, hat im
wesentliche folgende Funktionalit&auml;t.</FONT></FONT></P>
<UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT COLOR="#000000">Bevor
	ein Commit-gestartet wird, werden alle beteiligten XAResourcen
	geloggt, so dass diese beim Wiederanlauf </FONT><FONT COLOR="#000000"><I>referenzierbar
	</I></FONT><FONT COLOR="#000000">sind.</FONT></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Es werden
	keinerlei inhaltliche Informationen &uuml;ber den XAResourcen durch
	den TM geloggt. Diese ist Aufgabe des RM.</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Falls die
	c<I>ommiting phase </I>erfolgreich abgeschlossen wird, so sind die
	log-Informationen (siehe 1) unn&ouml;tigt und k&ouml;nnten gel&ouml;scht
	werden</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Falls der TM
	w&auml;hrend der c<I>ommiting phase </I>abst&uuml;rtzt, so kann auf
	Basis der commit-Logs die Situation zum Zeitpunkt das Abbruchs
	wiederhergestellt werden. Dies allerdings nur aus Sicht des TMs
	(siehe unten).</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">XAResourcen
	m&uuml;ssen ihre TX-Informationen, die zur Integration in die TX
	notwendigen Informationen wie XID) erst ab der prepare-Phase loggen.
	Zuvor allerdings m&uuml;ssen evtl. Informationen f&uuml;r
	<I>recovery/rollback</I> geloggt werden.</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Wiederherstellung
	einer XAResource umfasst auch die Informationen, um die Referenz des
	TM auf diese <I>XAResource</I> (siehe 1) aufzul&ouml;sen. Dazu ist
	in der Regel zu untersuchen, wie der gew&auml;hlte TM die XAResource
	referenziert (z.B. via toString() wie JOTM).</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><I>XAResource.recover()</I>
	liefert alle wiederherstellbaren <I>XAResources</I> des RM. Dabei
	k&ouml;nnen diejenigen, die nicht an wiederherstellbaren TX
	beteiligt sind, ignoriert werden.</FONT></FONT></P>
</UL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Ein
Logging-Verfahren, dass diese Eigenschaft unterst&uuml;tzt, hat im
wesentliche folgende Funktionalit&auml;t. </FONT></FONT>
</P>
<UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">performantes und
	konkurriendes Logging (selbstverst&auml;ndlich)</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">B&uuml;ndelung
	der Records der c<I>ommitting phase , </I><SPAN STYLE="font-style: normal">nu</SPAN><SPAN STYLE="font-style: normal">r</SPAN>
	ein I/O-Zugriff pro Start einer c<I>ommitting phase</I></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Ignorierung/L&ouml;schen/&Uuml;berscheiben
	von Logrecords, die zu erfolgreich abgeschlossenene TX geh&ouml;ren.
	Diese sollen im Log keinen Platz blockieren.</FONT></FONT></P>
</UL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Ein hinsichtlich
dieser Anforderungen optimiertes Loggingsystem ist offensichtlich
nicht optimiert,</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><I>recovery/rollback
</I>-Informationen f&uuml;r eine XAResource zu unterst&uuml;tzen.
Dort muss die B&uuml;ndelung nicht auf Basis der Records der
Committing Phase sondern bzgl. aller w&auml;hrend einer TX
angefallenen Daten geschehen. ist die TX abgeschlossen, so sind diese
geb&uuml;ndelten Records freizugeben.</FONT></FONT></P>
<H3 CLASS="western">Rollback- / Recorveryinformationen</H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">In
[mike_spille-2004] sind Szenerien f&uuml;r Recovery aus Sicht eines
<I>transaction managers</I> durchgespielt. Aus Sicht einer <I>XAResource</I>
sind andere Szenarien zu betrachten und andere L&ouml;sungsans&auml;tze
zu untersuchen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Eine <I>XAResource</I>
wird zu einem Recoveryfall, wenn einer der folgenden Situationen
eintritt </FONT></FONT>
</P>
<UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">XAResource
	verabschiedet sich undefiniert aus der TX </FONT></FONT>
	</P>
	<UL>
		<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
		<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Ausf&uuml;hrungsthread/
		-prozess stirbt</FONT></FONT></P>
		<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
		<FONT COLOR="#000000"> <FONT FACE="Garamond, serif">Verbindungverlust
		zu Servern (Datenbanken,..) </FONT></FONT>
		</P>
		<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
		<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Plattencrash,
		Stromausfall oder &auml;hnliche apokalyptische Szenarien</FONT></FONT></P>
	</UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">TransactionManager
	verabschiedet sich undefiniert </FONT></FONT>
	</P>
	<UL>
		<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
		<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Ausf&uuml;hrungsthread/
		-prozess stirbt</FONT></FONT></P>
		<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
		<FONT COLOR="#000000"> <FONT FACE="Garamond, serif">Plattencrash,
		Stromausfall oder &auml;hnliche apokalyptische Szenarien</FONT></FONT></P>
	</UL>
	<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	</P>
</UL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Recovery im Umfeld
von XA hat zwei unterschiedlichen Aspekte. Zum ersten muss das
Persistenzsystem wiederhergestellt werden. Dieser Vorgang ist
unabh&auml;ngig von der Beteiligung der Resource an einer DTX.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT COLOR="#000000">Falls
das Persistenzsystem an einer DTX beteiligt war und die Beteiliung
wieder reaktiviert werden muss (nur Zustand </FONT><FONT COLOR="#000000"><I>prepared
</I></FONT><FONT COLOR="#000000">), so hat sich das restaurierte
Persistenzsystem beim Transaktionsmanager f&uuml;r die </FONT>entsprechende
DTX anzumelden.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">F&uuml;r den
Transactionsmanager ist eine XAResource nur dann beim <I>recovery
</I>interessant, wenn diese an einer TX teilgenommen hat, deren
<I>prepared+committing phase </I>wiederhergestellt wird. Ansonsten
wei&szlig; der Transaktionmanager (siehe <I>presumed abort </I>)
nichts &uuml;ber die <I>XAResource</I> und diese kann sich isoliert
restaurieren und <I>rollback  </I>durchf&uuml;hren.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Falls diese
w&auml;hrend der <I>executing </I>oder <I>preparing phase </I>stecken
geblieben ist, so hat der <I>recovery </I>Mechanismus des
Resourcemanagers f&uuml;r ein korrekte Wiederherstellung des
Persistenzsystems zu sorgen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Wie kann also ein
Verfahren aussehen, welches f&uuml;r eine Ressource einerseits WAL
unterst&uuml;tzt, andererseits die Zust&auml;nde bzgl. einer 2PC-TX
und 1 PC-TX protokolliert. Es scheint mir sinnvoll, nur ein<I>
logging </I>Verfahren zu etablieren und f&uuml;r die
unterschiedlichen Zwecke verschiedene Verfahren aufzusetzen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">In [gupta-1997] 
Kap 3.2.1 sind die Zustands&uuml;berg&auml;nge einer XAResource in
einem 2PC Protokoll beschrieben. F&uuml;r ein Recovery ist es
grunds&auml;tzlich ausreichend, die Zust&auml;nde <I>preparing </I>,
<I>prepared, committing </I>und <I>aborting </I>zu sichern. Implizit
l&auml;&szlig;t daraus der Zustand <I>executing </I>ableiten.
Kenntnisse des Zustands der XAResource und die LogRecords versetzen
die XAResource in die Lage, sich zu restaurieren.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Beim
Ausgangszustand <I>committing </I>oder <I>aborting </I>kann es
nat&uuml;rlich sein (es ist sogar die Regel) , dass nichts zu tun
ist, um die XAResource wiederherzustellen, da die Aktionen korrekt
abgeschlossen wurden.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Dies kann nur
festgestellt werden, wenn der Abschlu&szlig; der TX durch einen <I>done
</I>-Record markiert wird. Anhand des Endezustands kann der
Recoverymanager erkennen, dass kein Recovery notwendig ist und das
Loggingsystem, dass <I>LogRecords </I>solcher XAResourcen vergessen
werden k&ouml;nnen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Der
Ausgangszustand <I>committing </I>(ohne abschliessendes <I>done</I>)
bedingt ein <I>roll forward </I>. Der Ausgangszustand <I>aborting
</I>bedingt ein <I>rollback </I>. Unter Annahme, dass 'keine
Informationen' mit<I>abort gleichzusetzen sind</I><I> </I>(<I>presumed
abort </I>), ist der Zustand <I>aborting </I>nicht explizit zu
protokollieren, sondern wird wie der Ausgangszustand <I>executing
</I>behandelt. Gleiches gilt f&uuml;r <I>preparing </I>.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Daraus ergibt
sich, dass die Zust&auml;nde <I>prepared, committing </I>und <I>done
</I>protokolliert werden. Mit den Zust&auml;nden m&uuml;ssen auch
immer alle Informationen geloggt werden, die notwendig sind, die
avisierten Zustand&uuml;berg&auml;nge auch durchzuf&uuml;hren. Die
<I>XAResource</I> muss auch beachten, dass die</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Zustands&uuml;berg&auml;nge
bereits teilweise durchgef&uuml;hrt sind. Sie muss dies erkennen
k&ouml;nnen und ad&auml;quat darauf reagieren.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Bricht die
XAResource w&auml;hrend <I>executing </I>oder <I>preparing </I>ab, so
ist keiner der obigen Zust&auml;nde protokolliert. Was zu tun w&auml;re
ist klar.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Falls die
<I>XAResource</I> w&auml;hrend der <I>executing phase </I>abgebrochen
ist, so ist eine <I>rollback </I>durch zuf&uuml;hren. Ist sie dagegen
w&auml;hrend der <I>preparing phase </I>abgebrochen, ist zu erwarten,
dass die XAResource untersucht, ob es eine wiederhergestellte,
globale DTX gibt, an der sie teilnehmen kann. Die XAResource wird
dieser &uuml;bergeben, allerdings im Zustand MARK_ROLLBACK. Dadurch
ist gew&auml;hrleistet, dass alle an der TX beteiligten <I>XAResourcen</I>
<I>rollbacked </I>werden.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Da allerdings bei
Transaktionmanagern die den Recoveryprozess gem&auml;&szlig; <I>presumed
abort </I>unterst&uuml;tzen, globale Transaktionen, welche in der
<I>preparing phase </I>abbrechen, nicht als <I>recoverable
</I>protokollieren, ist es nicht notwendig, die aufwendige
Sonderbehandlung f&uuml;r die Fall vorzusehen. Auch in diesem Fall
kann also der Recoverymanager des XAResource ein <I>rollback
</I>durchf&uuml;hren.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Insbesondere wird
der Zustand <I>preparing </I>nicht protokolliert.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Um all die
Zustandsinformationen einer TX zuordnen zu k&ouml;nnen, muss beim
Beginn der Beteiligung der XAResource an der TX (Eintritt in
<I>executing </I>) protokolliert werden, mit welcher Identit&auml;t
die XAResource an welcher TX ( identifiziert durch XID) teilnimmt.
Dieser TX-Informationen m&uuml;ssen auch allen weiteren LogRecords
zugeordnet sein, die sich auf diese XAResource innerhalb dieser TX
beziehen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">St&ouml;&szlig;t
der Recoverymanager auf eine XAResource eines solchen Zustands, so
zeigt folgende Tabelle, wie zu reagieren ist:</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<TABLE WIDTH=100% CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=85*>
	<COL WIDTH=171*>
	<TR VALIGN=TOP>
		<TD WIDTH=33% STYLE="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0.1cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
			<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; font-weight: normal">
			<FONT COLOR="#000000"><FONT FACE="Garamond, serif">erster Satz bei
			XAResource (nur bei XAResource bei Beteiligung an 2PC)</FONT></FONT></P>
		</TD>
		<TD WIDTH=67% STYLE="border: 1px solid #000000; padding: 0.1cm">
			<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; font-weight: normal">
			<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Um die
			XAResource der TX zuzuordnen, sind aus dem erstem <I>LogRecord
			</I>sowohl Identit&auml;t der XAResource (zur Registrierung beim
			Transaktionsmanager) und XID zu ermitteln.</FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
			<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; font-weight: normal">
			<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Prepared</FONT></FONT></P>
		</TD>
		<TD WIDTH=67% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
			<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; font-weight: normal">
			<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Da XAResource
			f&uuml;r den Transaktionsmanager in Bezug auf <I>recovery </I>nur
			nur im Zustand <I>prepared / committing </I>interessant sind, muss
			sich die <I>XAResource</I> an den TX der wiederhergestellten
			globalen TX beteiligen , um den TransaKtionsmanager die TX
			geordnet abzuschliessen.</FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
			<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; font-weight: normal">
			<FONT COLOR="#000000"><FONT FACE="Garamond, serif">committing </FONT></FONT>
			</P>
		</TD>
		<TD WIDTH=67% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
			<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; font-weight: normal">
			<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Nimmt die
			XAResource am 2PC teil, so siehe <I>prepared </I>. Ansonsten wird
			das <I>commit </I>vollst&auml;ndig zu Ende gef&uuml;hrt.</FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
			<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; font-weight: normal">
			<FONT COLOR="#000000"><FONT FACE="Garamond, serif">keiner der
			obigen Zust&auml;nde </FONT></FONT>
			</P>
		</TD>
		<TD WIDTH=67% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
			<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; font-weight: normal">
			<FONT COLOR="#000000"><FONT FACE="Garamond, serif">XAResource
			f&uuml;hrt abschliessende Arbeiten aus, um dass <I>rollback/abort
			</I>abzuschliessen. Es ist keine globale TX notwendig, innerhalb
			derer die XAResource <I>rollbacked </I>werden muss.</FONT></FONT></P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Folgende Grafik
zeigt welche Informationen w&auml;hrend welches Zustands bzw. w&auml;hrend
welches &Uuml;bergangs</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">protokolliert
werden k&ouml;nnen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<IMG SRC="phynixx-connection_html_2131b640.gif" ALIGN=LEFT><BR CLEAR=LEFT><BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; background: transparent; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><SPAN STYLE="background: transparent"><SPAN STYLE="font-style: normal">Abbildung
3 Zustands&uuml;berg&auml;nge bei </SPAN><I>2 Phase Commit</I></SPAN></FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<H2 CLASS="western"></H2>
<H1 CLASS="western" STYLE="page-break-before: always"><FONT FACE="Garamond, serif">Phynixx
&ndash; der Plan</FONT></H1>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Wie aus dem JDBC
Umfeld bekannt ist, wird der Zugriff auf eine Datenbank durch eine
sogenannte Connection bereitgestellt.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Dieser Begriff
wird in diesem Dokument weiter gefasst und bezeichnet allgemein den
Zugriff auf ein Persistenzmedium, welche sich als XAResource
darstellen m&ouml;chte.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Ziel des Projekts
phynixx ist es, eine allgemeines Persietenzmedium vollst&auml;ndig in
die Javawelt und die dortige Persistenzverfahren einzubetten.</FONT></FONT></P>
<OL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Zustandsprotokollierung/Kompensationsverfahren
	</FONT></FONT>
	</P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">XA Implmentierung</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">JCA Connector
	(noch nicht realisiert)</FONT></FONT></P>
</OL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Um an diesen
verfahren teilzunehmen , ist eine allgemeine Connection zum
jeweiligen Persistenzmedium bereitzustellen. Diese wird sukzessive um
die oben beschrieben Funktionalit&auml;ten generisch erweitert. Als
Metapher kann eine Verbindung zu einer Datenbank in Form einer
<I>JDBC-Connection</I> dienen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><I>Connections</I>
eines Persistenzmediums m&uuml;ssen das IF <I>IPhynixxConnection</I>
implementieren. <I>IPhynixxConnections</I> werden durch
<I>ConnectionFactories</I> bereitgestellt </FONT></FONT>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<H2 CLASS="western"></H2>
<H1 CLASS="western"><FONT FACE="Garamond, serif">Phynixx &ndash; das
Projekt</FONT></H1>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><I>Phynixx</I> hat
sich zur Aufgabe gestellt, Persistenzsystemen die M&ouml;glichkeit zu
geben , sich transaktional zu verhalten und sich dar&uuml;ber hinaus
in Persistenzstandards im Java Umfeld wie XA oder JCA einzubetten. </FONT></FONT>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<H2 CLASS="western">Projektstruktur in Eclipse 
</H2>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<TABLE WIDTH=100% CELLPADDING=4 CELLSPACING=0>
	<COL WIDTH=85*>
	<COL WIDTH=85*>
	<COL WIDTH=85*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=33% STYLE="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0.1cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">Thema</FONT></P>
			</TH>
			<TH WIDTH=33% STYLE="border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0.1cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">Projektpfad</FONT></P>
			</TH>
			<TH WIDTH=33% STYLE="border: 1px solid #000000; padding: 0.1cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">Beschreibung</FONT></P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">phynixx-doc</FONT></P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">Dokumentation</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">phynixx-assembly</FONT></P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">Maven-build-lifecycle
				umd alle Kompoennten zu packen</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">phynixx-base</FONT></P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">Definiert den
				Eltern-Lifcycle f&uuml;r den maven-build-lifecycle aller
				Kompoenneten</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">phynixx-common</FONT></P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">Allgemeine
				Funktionalit&auml;t wie logging etc</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">PhynixxConnection</FONT></P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">phynixx-connection</FONT></P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><FONT FACE="Garamond, serif"><I>IPhynixxConnection</I>,
				Zustandsprotokollierung und Kompensationsverfahren.</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">phynixx-watchdog</FONT></P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">&Uuml;berwachung
				von Timeouts</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">phynixx-watchdog-jmx</FONT></P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">JMX-Anbindung von
				phynixx-watchdog</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">phynixx-xa</FONT></P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><FONT FACE="Garamond, serif">XA
				Implementierung</FONT></P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
		<TR VALIGN=TOP>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
			<TD WIDTH=33% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0cm; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm">
				<P CLASS="western"><BR>
				</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<H2 CLASS="western"></H2>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<H2 CLASS="western" STYLE="page-break-before: always"><FONT FACE="Garamond, serif">PhynixxConnection</FONT></H2>
<H3 CLASS="western"><FONT FACE="Garamond, serif">Referenzimplementierung</FONT></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Unter
<I>phynixx-connection/test/main/java</I> findet sich in
<I>org.csc.phynixx.connection.reference</I> eine
Referenzimplementierung der Konzepte dieses Kapitels. Die dort
vorgestellte Implementierung einer <I>IPhynixxConnection</I> wird im
weiteren von Referenzimplementierungen genutzt.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><I>ITestConnection</I>
erbt von <I>IPhynixxConnection</I> und implementiert eine denkbar
einfache Gesch&auml;ftslogik. Es wird eine interner Z&auml;hler
gepflegt.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Garamond, serif"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#0084d1"><FONT SIZE=2>/**</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#0084d1">  <FONT FACE="Garamond, serif"><FONT SIZE=2>*
the current implementation manages a internal counter which can <BR> 
* be incremented </FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#0084d1">  <FONT FACE="Garamond, serif"><FONT SIZE=2>*
@author christoph schmidt-cadorff</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#0084d1">  <FONT FACE="Garamond, serif"><FONT SIZE=2>*</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#0084d1">  <FONT FACE="Garamond, serif"><FONT SIZE=2>*/</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>public
interface ITestConnection extends
IPhynixxConnection,IRecordLoggerAware </FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>{</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	/**</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	 * </FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	 *
@return current ID of the connection</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	 */</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	public
Object getId();</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	/**</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	 *
increments the current counter </FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	 *
@param inc</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	 */</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	public
void act(int inc) ;	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	/**</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	 * </FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	 *
@return current counter</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	 */</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	public
int getCurrentCounter();</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; widows: 2; orphans: 2; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=2>}</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Um an der
Funktionalit&auml;t von Phynixx teilzunehmen, muss eine
Implementierung der Klasse <I>IPhynixxConnection</I> bereitgestellt
sein.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Sie stellt zur
Teilnahme an einer TA  die klasisschen Methoden wie <I>commit,.
rollback, prepare</I>. Soll auch der Mechanismus des <I>RecordLoggings</I>
genutzt werden, muss ein weiteres Interface <FONT SIZE=2><I>IRecordLoggerAware</I></FONT><FONT SIZE=2>
</FONT><FONT SIZE=3>implementiert werden.</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Neben diesen
technischen Methoden zeichnet sich die konkrete <I>Connection</I>
durch eigene Gesch&auml;ftsmethoden aus. Diese m&uuml;ssen in einem
von <I>IPhynixxConnection</I> abgeleiteten IF definiert sein.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Eigene
Implementierung m&uuml;ssen dieses IF implementieren und ein IF
bereitstellen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Zu jeder eigenen
Implementierung von IPhynixxConnection geh&ouml;rt auch eine
entsprechende <I>Factory</I>, welche <I>IPhynixxConnectionFactory</I>
implementiert.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<H3 CLASS="western"><FONT FACE="Garamond, serif">RecordLogging</FONT></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><I>RecordLogging</I>
beschreibt den Mechanismus, Informationen einer Connection f&uuml;r
r<I>ollback, commit</I> und <I>recover</I> zu protokollieren
(<I>Zustandspotokollierung</I> und <I>Kompensationsprotokollierung</I>)
und dieser zum geeigneten Zeitpunkt zur Verf&uuml;gung zu stellen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Die aktuelle
Implementierung des Loggings wird mittels <FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=4><I>j</I></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><I>ava.io.RandomAccessFile
</I></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>implementiert.</FONT></FONT></FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Die zu loggenden
Daten werden bin&auml;r gesichert. Die <I>IPhynixxConnection</I> hat
f&uuml;r die De-/Serialisierung (Konvertierung in bin&auml;res
Format)  zu sorgen.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Die Schnittstelle
einer Connection zum zu grunde liegenden Logger wird &uuml;ber
<FONT COLOR="#000000"><I>IRecordLogger</I></FONT> bereitgestellt. Der
<FONT COLOR="#000000"><I>IRecordLogger</I></FONT> ist f&uuml;r die
anwendungsspezifischen Logging-Informationen zust&auml;ndig
(Kompensationsinformationen). Die Informationen &uuml;ber den Verlauf
der TA (TA-Zustandsinformationen) werden systemseitig protokolliert,
ohne dass sich die Connection darum k&uuml;mmern muss.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>interface</B></FONT><FONT COLOR="#000000">
IRecordLogger {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#3f5fbf">/**</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">logs</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">given</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">data</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">These</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">data</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">can</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">be</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">replyed</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">to</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">perform</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">rollback</FONT><FONT COLOR="#000000">	 </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">If</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">commitRollforwardData</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">is</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">called</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">once</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">this</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">method</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">can</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">not</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">be</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">called</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">any</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">more</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#7f9fbf"><B>@param</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">data</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
writeRollbackData(</FONT><FONT COLOR="#7f0055"><B>byte</B></FONT><FONT COLOR="#000000">[]
data);</FONT>	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#3f5fbf">/**</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">logs</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">given</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">data</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">to</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">perform</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">rollback</FONT><FONT COLOR="#000000">	 </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">If</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">commitRollforwardData</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">is</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">called</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">once</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">this</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">method</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">can</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">not</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">be</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">called</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">any</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">more</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#7f9fbf"><B>@param</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">data</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
writeRollbackData(</FONT><FONT COLOR="#7f0055"><B>byte</B></FONT><FONT COLOR="#000000">[][]
data);</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#3f5fbf">/**</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">logs</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">given</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">data</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">to</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">perfrom</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">rollforward</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">If</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">commitRollforwardData</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">is</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">called</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">once</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">this</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">method</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">can</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">not</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">be</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">called</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">any</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">more</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#7f9fbf"><B>@param</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">data</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
commitRollforwardData(</FONT><FONT COLOR="#7f0055"><B>byte</B></FONT><FONT COLOR="#000000">[][]
data);</FONT>	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#3f5fbf">/**</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">logs</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">given</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">data</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">to</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">perfrom</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">rollforward</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">If</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">commitRollforwardData</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">is</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">called</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">once</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">this</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">method</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">can</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">not</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">be</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">called</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">any</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">more</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#7f9fbf"><B>@param</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">data</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
commitRollforwardData(</FONT><FONT COLOR="#7f0055"><B>byte</B></FONT><FONT COLOR="#000000">[]
data);</FONT>	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>boolean</B></FONT><FONT COLOR="#000000">
isCommitting();</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>boolean</B></FONT><FONT COLOR="#000000">
isPrepared(); </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>boolean</B></FONT><FONT COLOR="#000000">
isCompleted(); </FONT>	<FONT COLOR="#000000">	</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
replayRecords(ILogRecordReplay replay); </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Eine Connection
kann am verfahren des RecordLoggings teilnehmen, in dem sie das IF
<I>IRecordLoggerAware</I> implementiert. Diese IF definiert
getter/setter f&uuml;r einen IrecordLogger.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#0084d1"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">/**</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#0084d1"> <FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">*
replays the messages in the correct order.</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>interface</B></FONT><FONT COLOR="#000000">
ILogRecordReplay {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#3f5fbf">/**</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#7f9fbf"><B>@param</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">record</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">ILogMessage</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">to</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">be</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">rollbacked</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
replayRollback(ILogRecord record);	</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#3f5fbf">/**</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#7f9fbf"><B>@param</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">record</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">to</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">be</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">rollforwared</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
replayRollforward(ILogRecord record);</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Die
Referenzimplementierung soll folgende Buisnesslogik unterst&uuml;tzen.</FONT></FONT></P>
<OL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Ein Z&auml;hler
	kann initialisiert werden. Dieser Initiale Wert wird beim rollback
	eingestellt. Dieser Wert kann beliebig oft initialisiert werden.
	Jede Initialisierung wird protokolliert. Allerdings wird der letzte
	Stand wiederhergestellt.<FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><BR></FONT></FONT>Der
	initiale Z&auml;hlerwert wird in <I>setInitialCounter()</I>  als
	<I>rollback</I>-Info bewertet und dem <I>RecordLogger</I> &uuml;bergeben.
	Dieser persistiert diesen und kann bei <I>rollback</I> oder <I>recover</I>
	befragt werden.</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Dieser Z&auml;hler
	kann inkrementiert werden. Diese Inkremente werden allerdings nicht
	unmittelbar, sondern erst w&auml;hrend der <I>commit</I> Phase aus
	gef&uuml;hrt.<BR>Sie werden als rollforward Data protokolliert, so
	dass die commit Phase auch bei auftretenden Fehler wieder aufgesetzt
	werden kann. </FONT></FONT>
	</P>
</OL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Die
Referenzimplementierung nutzt den <I>RecordLogging</I> Mechanismus,
um den Startwert des internen Z&auml;hlers zu persistieren und ggf.
bei <I>rollback</I> oder <I>recover</I> zur&uuml;ck zu erhalten.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Um im Fall von
commit/rollback/prepare/recover die Informationen durch den Logger zu
erhalten, muss diesem eine Implementierung des IF  <FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><I>IlogRecordReplay</I></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>
&uuml;bergeben werden. Die Logrecords werden in exakt der
urspr&uuml;nglichen Reihenfolge liefert. Au&szlig;erdem wird zwischen
</FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><I>rollback</I></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>-
und </FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><I>rollforward
data</I></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>
unterschieden. </FONT></FONT></FONT></FONT></FONT>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">/**</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">this</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">reference</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">implementation</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">of</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">a</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f3fbf">{@link IPhynixxConnection }</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">shows</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">how</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">to</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">implement</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">your</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">own</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">recoverable</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">connection</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">The</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">business</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">logic</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">is</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">kept</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">quite</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">simple.</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">A</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">counter</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">is</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">set</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">to</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">an</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">initial</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">value.</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">This</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">value</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">has</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">to</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">be</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">restored</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">when</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">connection</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">is</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">rollbacked</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">or</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">recovered.</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">You</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">can</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">increment</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">this</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">value,</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">but</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">incrememts</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">are</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">not</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">performed</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">immediately</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">but</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">are</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">postponed</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">to</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">commit</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">phase.</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">Bevor</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">increment</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">is</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">perormed</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">all</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">incre,ments</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">are</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">stored</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">as</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">rollforward</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">data.</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">If</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">an</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">exceptions</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">is</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">throws</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">during</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">commit,</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">these</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">data</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">are</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">used</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">to</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">recover.</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f9fbf"><B>@author</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">christoph</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT COLOR="#000000"> </FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>class</B></FONT><FONT COLOR="#000000">
ReferenceConnection </FONT><FONT COLOR="#7f0055"><B>implements</B></FONT><FONT COLOR="#000000">
IReferenceConnection </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">{</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>static</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>final</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>int</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000c0"><I>ERRONEOUS_INC</I></FONT><FONT COLOR="#000000">=Integer.</FONT><FONT COLOR="#0000c0"><I>MAX_VALUE</I></FONT><FONT COLOR="#000000">;
	</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>private</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>static</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>final</B></FONT><FONT COLOR="#000000">
Integer </FONT><FONT COLOR="#0000c0"><I>ERRONEOUS_VALUE</I></FONT><FONT COLOR="#000000">=
</FONT><FONT COLOR="#7f0055"><B>new</B></FONT><FONT COLOR="#000000">
Integer(</FONT><FONT COLOR="#0000c0"><I>ERRONEOUS_INC</I></FONT><FONT COLOR="#000000">);</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>private</B></FONT><FONT COLOR="#000000">
Object </FONT><FONT COLOR="#0000c0">id</FONT><FONT COLOR="#000000">=
</FONT><FONT COLOR="#7f0055"><B>null</B></FONT><FONT COLOR="#000000">;	</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>private</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>int</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000c0">counter</FONT><FONT COLOR="#000000">= 0;
	</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>private</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>volatile</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>boolean</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000c0">close</FONT><FONT COLOR="#000000">=
</FONT><FONT COLOR="#7f0055"><B>false</B></FONT><FONT COLOR="#000000">;
	</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>private</B></FONT><FONT COLOR="#000000">
List </FONT><FONT COLOR="#0000c0">increments</FONT><FONT COLOR="#000000">=
</FONT><FONT COLOR="#7f0055"><B>new</B></FONT><FONT COLOR="#000000">
ArrayList(); </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>private</B></FONT><FONT COLOR="#000000">
IPhynixxLogger </FONT><FONT COLOR="#0000c0">logger</FONT><FONT COLOR="#000000">=
PhynixxLogManager.</FONT><FONT COLOR="#000000"><I>getLogger</I></FONT><FONT COLOR="#000000">(</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.getClass());</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>private</B></FONT><FONT COLOR="#000000">
IRecordLogger </FONT><FONT COLOR="#0000c0">recordLogger</FONT><FONT COLOR="#000000">=
Dev0Strategy.</FONT><FONT COLOR="#0000c0"><I>THE_DEV0_LOGGER</I></FONT><FONT COLOR="#000000">;
	</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
IRecordLogger getRecordLogger() {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>return</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000c0">recordLogger</FONT><FONT COLOR="#000000">;</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
setRecordLogger(IRecordLogger messageLogger) {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">recordLogger</FONT><FONT COLOR="#000000">
= messageLogger;</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
ReferenceConnection(Object id) {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">id</FONT><FONT COLOR="#000000">
= id;</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>int</B></FONT><FONT COLOR="#000000">
getCounter() {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>return</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000c0">counter</FONT><FONT COLOR="#000000">;</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#3f7f5f">/*
(non-Javadoc)</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	
* @see de.csc.xaresource.sample.ITestConnection#getId()</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	
*/</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
Object getId() {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>return</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#0000c0">id</FONT><FONT COLOR="#000000">;</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
setInitialCounter(</FONT><FONT COLOR="#7f0055"><B>int</B></FONT><FONT COLOR="#000000">
value) {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">counter</FONT><FONT COLOR="#000000">=
value;	</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.getRecordLogger().writeRollbackData(Integer.</FONT><FONT COLOR="#000000"><I>toString</I></FONT><FONT COLOR="#000000">(value).getBytes());</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#3f5fbf">/**</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">Increments</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">are</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">stored</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">an</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">executed</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">during</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">commit</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
</FONT><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
incCounter(</FONT><FONT COLOR="#7f0055"><B>int</B></FONT><FONT COLOR="#000000">
inc)  {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">increments</FONT><FONT COLOR="#000000">.add(</FONT><FONT COLOR="#7f0055"><B>new</B></FONT><FONT COLOR="#000000">
Integer(inc));	</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
close() {	</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>if</B></FONT><FONT COLOR="#000000">(
!isClosed()) {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">close</FONT><FONT COLOR="#000000">=
</FONT><FONT COLOR="#7f0055"><B>true</B></FONT><FONT COLOR="#000000">;
</FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">		}	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>boolean</B></FONT><FONT COLOR="#000000">
isClosed() {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>return</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">close</FONT><FONT COLOR="#000000">;</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
commit() {		</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
	</FONT><FONT COLOR="#3f5fbf">/**</FONT><FONT COLOR="#000000"> </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
	 </FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">All</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">increments</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">are</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">stored</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">as</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">rollforward</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">data</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">to</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">recover</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">commit</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	
	 </FONT><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>for</B></FONT><FONT COLOR="#000000">
(Iterator iterator = </FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">increments</FONT><FONT COLOR="#000000">.iterator();
iterator.hasNext();) {			</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">			Integer
inc = (Integer) iterator.next();</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#3f7f5f">//
the data is stored for recoverinmg the commiting phase</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.getRecordLogger().commitRollforwardData(inc.toString().getBytes());</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		
   </FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">counter</FONT><FONT COLOR="#000000">=
</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">counter</FONT><FONT COLOR="#000000">+inc.intValue();</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">		}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#3f5fbf">/**</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">execute</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">increment.</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">If</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">an</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">error</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">occurs,</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">you</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">can</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">rely</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">on</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">recovering</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		
</FONT><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>for</B></FONT><FONT COLOR="#000000">
(Iterator iterator = </FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">increments</FONT><FONT COLOR="#000000">.iterator();
iterator.hasNext();) {			</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">			Integer
inc = (Integer) iterator.next();</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#7f0055"><B>if</B></FONT><FONT COLOR="#000000">(
inc.equals(</FONT><FONT COLOR="#0000c0"><I>ERRONEOUS_VALUE</I></FONT><FONT COLOR="#000000">))
{</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">				</FONT><FONT COLOR="#7f0055"><B>throw</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>new</B></FONT><FONT COLOR="#000000">
IllegalArgumentException(</FONT><FONT COLOR="#2a00ff">&quot;Erroneous
increment&quot;</FONT><FONT COLOR="#000000">);</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">			}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">counter</FONT><FONT COLOR="#000000">=
</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">counter</FONT><FONT COLOR="#000000">+inc.intValue();</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">		}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
prepare() {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
rollback() {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#3f7f5f">//
use the recovery data to rollback the connection ....</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.getRecordLogger().replayRecords(</FONT><FONT COLOR="#7f0055"><B>new</B></FONT><FONT COLOR="#000000">
MessageReplay());</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
String toString() {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>return</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#2a00ff">&quot;ReferenceConnection &quot;</FONT><FONT COLOR="#000000">+</FONT><FONT COLOR="#0000c0">id</FONT><FONT COLOR="#000000">;
</FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
recover() {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.getRecordLogger().replayRecords(</FONT><FONT COLOR="#7f0055"><B>new</B></FONT><FONT COLOR="#000000">
MessageReplay());</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#0000c0">logger</FONT><FONT COLOR="#000000">.error(</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.getId()+</FONT><FONT COLOR="#2a00ff">&quot;
recovered with initial value=&quot;</FONT><FONT COLOR="#000000">+
</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.getCounter());</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">	</FONT><FONT COLOR="#7f0055"><B>private</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>class</B></FONT><FONT COLOR="#000000">
MessageReplay </FONT><FONT COLOR="#7f0055"><B>implements</B></FONT><FONT COLOR="#000000">
ILogRecordReplay {</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
replayRollback(ILogRecord message) </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">		{</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#7f0055"><B>int</B></FONT><FONT COLOR="#000000">
initialCounter= Integer.</FONT><FONT COLOR="#000000"><I>parseInt</I></FONT><FONT COLOR="#000000">(</FONT><FONT COLOR="#7f0055"><B>new</B></FONT><FONT COLOR="#000000">
String(message.getData()[0]));</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			ReferenceConnection.</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">counter</FONT><FONT COLOR="#000000">=
initialCounter;</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">		}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<BR>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#3f5fbf">/**</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		
</FONT><FONT COLOR="#3f5fbf">*</FONT><FONT COLOR="#000000"> </FONT><FONT COLOR="#3f5fbf">recover</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">the</FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#3f5fbf">increments</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		
</FONT><FONT COLOR="#3f5fbf">*/</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#7f0055"><B>public</B></FONT><FONT COLOR="#000000">
</FONT><FONT COLOR="#7f0055"><B>void</B></FONT><FONT COLOR="#000000">
replayRollforward(ILogRecord message) </FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">		{</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#7f0055"><B>int</B></FONT><FONT COLOR="#000000">
inc= Integer.</FONT><FONT COLOR="#000000"><I>parseInt</I></FONT><FONT COLOR="#000000">(</FONT><FONT COLOR="#7f0055"><B>new</B></FONT><FONT COLOR="#000000">
String(message.getData()[0]));</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			Integer
incObj= </FONT><FONT COLOR="#7f0055"><B>new</B></FONT><FONT COLOR="#000000">
Integer(inc);</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#7f0055"><B>if</B></FONT><FONT COLOR="#000000">(
!incObj.equals(</FONT><FONT COLOR="#0000c0"><I>ERRONEOUS_VALUE</I></FONT><FONT COLOR="#000000">))
{</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">				ReferenceConnection.</FONT><FONT COLOR="#7f0055"><B>this</B></FONT><FONT COLOR="#000000">.</FONT><FONT COLOR="#0000c0">increments</FONT><FONT COLOR="#000000">.add(incObj);</FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">			}</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">		}		</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	};</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-left: 0.66cm; margin-top: 0cm; background: #d9d9d9; font-weight: normal; page-break-inside: avoid; page-break-before: auto; page-break-after: avoid">
<FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">}</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Unter
<I>phynixx-connection/test/main/java</I> findet sich in
<I>org.csc.phynixx.connection.reference.scenarios </I><SPAN STYLE="font-style: normal">finden
sich unterschiedliche Beispile zum Einsatz der Referenz.</SPAN></FONT></FONT></P>
<UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><SPAN STYLE="font-style: normal">In
	</SPAN><FONT COLOR="#000000"><I>IntegrationScenarios</I></FONT><FONT COLOR="#000000"><SPAN STYLE="font-style: normal">
	werden unterschiedliche Einsatzszenarien vorgestellt.</SPAN></FONT></FONT></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><FONT COLOR="#000000"><SPAN STYLE="font-style: normal">Wird
	</SPAN></FONT><FONT COLOR="#000000"><I>MTIntegrationScenarios</I></FONT><FONT COLOR="#000000"><SPAN STYLE="font-style: normal">
	gestart, so kann ausgew&auml;hlt werden, ob der Prozess sauber
	heruntergefahren wird oder ob der abgebrochen wird. Im zweiten Fall
	entstehen i.d.R. Transaktionen, die nicht sauber abgeschlossen
	wurden und daher </SPAN></FONT><FONT COLOR="#000000"><I>recovered</I></FONT><FONT COLOR="#000000"><SPAN STYLE="font-style: normal">
	werden m&uuml;ssen. </SPAN></FONT></FONT></FONT></FONT>
	</P>
</UL>
<H2 CLASS="western"><FONT FACE="Garamond, serif">PhynixxConnectionProxy</FONT></H2>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Eine
<I>IPhynixxConnection</I> wird in vielf&auml;ltigen Kontexten genutzt
(z.B. Pooling, XA-Resource, JCA) . Um sich in all diese
unterschiedlichen Kontexte einzubetten, muss sie ein definiertes
Protokoll zur Benachrichtigung &uuml;ber Ereignisse in ihrem
Lebenszylus unterst&uuml;tzen. Beispiel f&uuml;r derartige Ereignisse
sind Schlie&szlig;en der <I>Connection</I>, <I>Rollback</I>, <I>Commit</I>,
Alle geforderten Benachrichtigungen sind in
<I>IPhynixxConnectionListener</I> definiert. </FONT></FONT>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Eine <I>Connection</I>
wird um die korrekte Behandlung des Benachrichtigungsprotokolls
dekoriert. Diese Dekoration wird durch das IF <I>IPhynixxConnectionProxy</I>
 umgesetzt. Die Klasse <I>PhynixxConnectionProxyAdapter</I> stellt
eine Basisimplementierung bereit, welche alle Methoden aus
<I>IPhynixxConnection</I> dekoriert.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Methoden au&szlig;erhalb
des IF <I>IPhynixxConnection</I> m&uuml;ssen explizit dekoriert
werden. Dabei ist nur benachrichtigen, ob eine Methode
transaktionsgesch&uuml;tzt sein soll.  Dazu ist
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><I><SPAN STYLE="font-weight: normal"><SPAN STYLE="background: transparent">PhynixxConnectionProxyAdapter.fireConnectionRequiresTransaction()
</SPAN></SPAN></I></FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><SPAN STYLE="background: transparent">zu
rufen.</SPAN></FONT></FONT></FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">In der aktuellen
Implementierung existiert keine M&ouml;glichkeit, die Methoden der
<I>Connection</I>, die durch eine TA gesch&uuml;tzt sein sollen, zu
deklarieren (vgl. <I>spring</I>). Daher muss die Benachrichtigung
programmatisch abgesetzt werden.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Es existiert eine
Standardimplementierung eines solchen Adapters auf Basis von
<I>DynaProxy</I>. Dieser sch&uuml;tzt <U>alle</U>
Gesch&auml;ftslogik-Methoden der <I>Connection</I> durch eine TA.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Soll der TA-schutz
feingranularer wirken, so ist ein eigener Proxy zu implementieren.
Eigen entwickelte Proxies sind i.d.R. performanter, da sie einerseits
nicht auf <I>DynaProxies</I> basieren und andererseits die 
Integration der Connection in einer TA optimieren.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Zu jeder eigenen
Implementierung von <I>PhynixxConnectionProxy</I> geh&ouml;rt auch
eine entsprechende <I>Factory</I>, welche
<I>IPhynixxConnectionProxyFactory</I> implementiert.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<H2 CLASS="western"><FONT FACE="Garamond, serif">all together &ndash;
Integration aller Komponenten</FONT></H2>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Um alle
Komponenten zu integrieren, steht  zwei integrierenden
Implementierung vion <I>IPhynixxConnectionFactory</I> zur Verf&uuml;gung.
</FONT></FONT>
</P>
<UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><I>ConnectionFactory</I>
	erzeugt die Connections, k&uuml;mmert sich aber anschliessend nicht
	mehr darum.</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><I>PoolConnectionFactory</I>
	implementiert einer Connectionpool auf Basis von <I>apache's
	commons-pool GenericObjectPoo</I>l zur Verf&uuml;gung.</FONT></FONT></P>
</UL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">In beiden
Factories  werden folgende Komponenten integriert</FONT></FONT></P>
<UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Implementierung
	einer <I>IPhynixxConnectionFactory</I></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Implementierung
	einer <I>IPhynixxConnectionProxyFactory</I></FONT></FONT></P>
</UL>
<UL>
	<UL>
		<UL>
			<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
			<FONT COLOR="#000000"><FONT FACE="Garamond, serif">ist optional</FONT></FONT></P>
			<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
			<FONT COLOR="#000000"><FONT FACE="Garamond, serif">per Default
			wird eine auf DynaProxy basierende Implementierung genutzt</FONT></FONT></P>
		</UL>
	</UL>
</UL>
<UL>
	<LI VALUE=1><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><I>ILoggerSystemStrategy</I>
	zur Anbindung einer Strategy f&uuml;r ein <I>IRecordLogging</I></FONT></FONT></P>
	<UL>
		<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-style: normal; font-weight: normal">
		<FONT COLOR="#000000"><FONT FACE="Garamond, serif">nur notwendig,
		wenn RecordLogging genutzt wird</FONT></FONT></P>
		<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-style: normal; font-weight: normal">
		<FONT COLOR="#000000"><FONT FACE="Garamond, serif">es steht derzeit
		nur die Strategie <I>one file per transaction</I> zur Verf&uuml;gung</FONT></FONT></P>
		<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-style: normal; font-weight: normal">
		<FONT COLOR="#000000"><FONT FACE="Garamond, serif">wird durch
		Konfiguration des HOWL-Loggers parametrisiert.</FONT></FONT></P>
	</UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">IPhynixxConnectionProxyDecorator</FONT></FONT></P>
	<UL>
		<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-style: normal; font-weight: normal">
		<FONT COLOR="#000000"><FONT FACE="Garamond, serif">dient zur
		Verzierung von <I>IPhynixxConnectionProxy</I></FONT></FONT></P>
		<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
		<FONT COLOR="#000000"><FONT FACE="Garamond, serif">haupts&auml;chlich
		genutzt, um weitere Lifecycle-Listener zu instanzieren</FONT></FONT></P>
	</UL>
</UL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Der 
Pool-Implementierung wird die Konfiguration des <I>GenericObjectPool</I>
&uuml;bergeben, um <I>pooling</I> Eigenschaften wird <I>pool size</I>
etc. einzustellen .</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Im Projekt
<I>phynixx-common</I> und <I>src/test/java</I> im Package
<I>org.csc.phynixx.connection.reference.scenarios</I> finden sich
Beispiele f&uuml;r den Einsatz.</FONT></FONT></P>
<H1 CLASS="western">JTA/XA &ndash; Was war das noch?</H1>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Grundlage der
Verarbeitung  von verteilten Transaktion (<U>D</U>istributed
<U>T</U>ransaction <U>P</U>rocessing) in Java ist die Spazifikation
JTA [ siehe [JTA]]. Diese &uuml;berf&uuml;hrt die allgemeine
Spezifikation XA/Open in die Javawelt und modifiziert diese in
einigen, wenigen Punkten.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT FACE="Garamond, serif">Dort
wird das Transaktionsprotokoll beschrieben und festgelegt, wie sich
Teilnehmer an einer Transaktion zu verhalten haben. Transaktionen
werden in Trasnaktionmanagern definiert und sind Bestandteil des
Projekts. Dem Projekt Phynixx geht es vielmehr darum, eine </FONT><FONT FACE="Garamond, serif"><I>Connection</I></FONT><FONT FACE="Garamond, serif">
in die Lage zu versetzen, an einer gem&auml;&szlig; JTA arbeitenden
Transaktion teilnehmen zu lassen.</FONT></FONT></FONT></P>
<H2 CLASS="western"><FONT FACE="Garamond, serif">JTA - Java
Transaction Architecture</FONT></H2>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><I>UserTransaction
IF </I>stellt eine allgemeine abstrakte</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><I>TransactionManager</I>
ist f&uuml;r das Management verteilter Transaktionen zust&auml;ndig.
Dazu sind folgende</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Aufgaben
zu erf&uuml;llen</FONT></FONT></FONT></P>
<UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Registrieren
	(<I>enlist</I>) der an der Transaktionen beteiligten Ressourcen</FONT></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Registrieren
	von Synchronizations-Callbacks</FONT></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Rollback/Commit
	der Transaktion</FONT></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Anhalten/Wiederanlauf
	von TA</FONT></FONT></FONT></P>
</UL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>XA
Resources identifizieren die an einer verteilten TA beteiligten
Ressourcen (<I>== XA kompatible Connection</I>). Xaresourcen werden
durch <I>ResourceManager</I> oder <I>ResourceFactories</I>
bereitgestellt. Unter einer solchen Factory kann man sich z.B. eine
XA-f&auml;hige DataSource einer Datenbank vorstellen. </FONT></FONT></FONT>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>XA
Resourcen haben zu gew&auml;hrleisten, dass sie , sobald sie an einer
TA teilnehmen m&ouml;chten, sich beim TA-Manager <I>enlisten </I>.
I.d.R. bedeutet dies, dass Operationen der XAResource, die
TA-relevant sind, durch die XAResource bewacht werden und ggf zum
<I>enlistment </I>f&uuml;hren. Nach dem <I>enlistment </I>einer
XAResource f&uuml;hrt der TM-Manager start(XID) aus, um die TA f&uuml;r
XAResource zu starten.</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Ist
bereits ein XAResource eins ResourceManagers an einer TA <I>enlistet</I>
und soll eine weitere XAResource dieses ResourceManager an der TA
teilnehmen, so werden die beiden XAResourcen zusammengelegt . Die
XAResource ist f&uuml;r die Umsetzung verantwortlich . In der
Implementierung teilen sich die beiden XAResourcen eine
zugrundliegende Connection. </FONT></FONT></FONT>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Der
TM-Manager ist am Ende der TA f&uuml;r den korrekten Aufruf der zu
<I>enlistResource </I>inversen Methode</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><I>delistResource</I>.</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Im
folgenden werden kurz die weiterf&uuml;hrenden Anforderungen an eine
XAResource aufgelistet:</FONT></FONT></FONT></P>
<UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Unterst&uuml;tzung
	des 2 PC</FONT></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3><I>enlist/delist</I>
	an aktueller TX im Hintergrund</FONT></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Timeout
	&Uuml;berwachung</FONT></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>&Uuml;berlagrung
	von XAResourcen (<I>suspend</I>)</FONT></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Zusammenf&uuml;hrung
	von XAResourcen in einer TX (<I>join</I>)</FONT></FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Unterst&uuml;tzung
	von <I>recovering</I></FONT></FONT></FONT></P>
</UL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<H3 CLASS="western"><FONT FACE="Garamond, serif">Kommunikation
zwischen TA-Mamanager und XAResource</FONT></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Eine
XAResource entschliesst sich mittels <I>enlistResource </I>an einer
TX teilzunehmen. Der TAManager ruft daraufhin start(XID, flags) auf.</FONT></FONT></FONT></P>
<H3 CLASS="western"><FONT FACE="Garamond, serif">XID - was und warum</FONT></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>XID
identifiziert eine TX. I.d.R. wird sie -nicht sichtbar durch den
Aufrufer- in <I>TransactionManager.start()</I></FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>erzeugt.</FONT></FONT></FONT></P>
<H3 CLASS="western"><FONT FACE="Garamond, serif">isSameRM</FONT></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Diese
Methode des XAResource zeigt an, ob zwei XAResourcen zum gleichen
Resourcemanager geh&ouml;ren. Da pro ResourceManager nur eine
XAResource eines ResourceManagers teilnehmen kann, wird &uuml;ber
diese Methode entschieden, ob eine Resource an der aktuellen TX
teilnehmen darf.</FONT></FONT></FONT></P>
<H3 CLASS="western"><FONT FACE="Garamond, serif">&Uuml;berlagernde TX
an einer XAResource</FONT></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Eine
XAResource kann zu einem Zeitpunkt nur an einer TX teilnehmen. Um
eine XAResource an mehreren TX &uuml;berlappend teilnehmen zu lassen,
wurde das <I>suspend/resume</I> Protokoll entworfen. Es werden
explizit keine verschachtelten TX unterst&uuml;tzt, d.h. zu einem
Zeitpunkt kann pro Thread nur eine TX aktiv sein und eine XAResource
nur in einer TX aktiv sein.</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Resource
Adapter ist verantwortlich, die Assoziation zwischen
(physikalischer/logischer) Connection und</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>XAResource
zu verwalten. In XAPool wird diese Verbindung durch eine <I>Zuordnung
XID zu Connection</I></FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>umgesetzt.
Bei <I>suspend/resume </I>wird die entsprechende Connection aus der
Zuordnung an der XAResource</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>aktiviert.</FONT></FONT></FONT></P>
<H3 CLASS="western">Locale und globale Transaktionen</H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Lokale
TA sind nur auf eine Resource bezogen.</FONT></FONT></FONT></P>
<H3 CLASS="western"><FONT FACE="Garamond, serif">Thread of Control</FONT></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Im
Gegensatz zur XA/Open Spec., die fordert, dass alle <I>xa- </I>relevanten
Aufrufe innerhalb einer TA vom selben Thread aufgerufen werden, wird
die durch JTA explizit nicht gefordert.</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Eine
XAResource darf zu einer Zeit nur zu h&ouml;chstens einer TA
zugeordnet sein. Zumindest lt. JTA reicht es also nicht, den
TA-Context an den aktuellen Thread und genau einen Thread zu h&auml;ngen.
Klar ist mir nicht, ob es mehr als eine TA pro Thread geben darf?</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">XA Specification
requires that the XA calls responsible for Transaction association
are called from the same thread (of control). The JTA specifaction
weakens this requirement and admits that start and end can be called
from diffrent threads. </FONT></FONT>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">See JTA
Specification 1.1</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-left: 1.25cm; margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">If the application
server allows multiple threads to use a single XAResource object and
the associated connection to the resource manager, it is the
responsibility of the application server to ensure that there is only
one transaction context associated with the resource at any point of
time.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">There is at most
one (active) transaction context assiociated with the resource at any
point of time. If there are more than one all but one have to be
suspended.</FONT></FONT></P>
<H3 CLASS="western"><FONT FACE="Garamond, serif">Serialisierung der
XID</FONT></H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Voraussetzung
f&uuml;r das <I>Recovering</I> einer XAResource ist der
De-/Serialisierung der XID. Die Implementierung der XID ist jedoch
spezifisch f&uuml;r den eingesetzten Transactionsmangers bzw. den
eingesetzten Recoverymechanismus.</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Daher
verbleibt De-/Serialisierung in der Obhut des TA-Managers.</FONT></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<H2 CLASS="western">XA resource &ndash; phynixx-xa</H2>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Innerhalb des
<I>XAResource Framework</I> k&ouml;nnen diese <I>IPhynixxConnections</I>
nicht direkt genutzt werden. </FONT></FONT>
</P>
<UL>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Eine Instanz
	einer <I>IPhynixxConnection</I> kann durch mehrere XAResourcen
	genutzt werden</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Es m&uuml;ssen
	zus&auml;tzliche Statusinformationen &uuml;ber die
	IPhynixxConnection protokolliert werden</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Es m&uuml;sen
	Status&auml;nderungen der <I>Connection</I> propagiert werden (
	Listener)</FONT></FONT></P>
	<LI><P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Es wird eine
	Zeit&uuml;berschreitung der Connection &uuml;berwacht (Timeout)</FONT></FONT></P>
</UL>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Im Module
<I>phynixx-xa</I> wird eine oben beschriebene <I>IPhynixxConnction</I>
izu einer XA Resource erweitert.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Daher werden
Connection innerhalb des XAResource FW mittels ConnectionProxies
referenziert. ConnectionHandle integriert die Proxy-Funktionalit&auml;t
und implementiert das IF des Connection,um so den Zugriff auf die
zugrundeliegende  Connection mittels Delegation zur Verf&uuml;gung zu
stellen.</FONT></FONT></P>
<H3 CLASS="western">Timeout&uuml;berwachung 
</H3>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Timeouts werden
f&uuml;r die XAResources durch spezielle Watchdog-Threads &uuml;berwacht.
Diese Watchdogs werden pro ResourceManager instanziert.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Eine XAResource
besitzt eine TimeoutCondition, welche beim Watchdog der zugeh&ouml;rigen
ResourceFactory registriert wird und damit &uuml;berwacht wird.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Durch
Aktivierung/Deaktivierung ihre Condition kann die XAResource
entscheiden, ob die Condition ausgewertet wird.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Wird ein Timeout
einer XAResource erkannt, so wird die zugeh&ouml;rige TA als
'Rollbacked' markiert. Die Connection wird nicht behandelt. Der
Timeout wird an der Connection (genauer ConnectionProxy) vermerkt und
kann mittels isExpired abgefragt werden.Zugriffe auf die Connection
im Falle eines Timeouts f&uuml;hren zu Exceptions.</FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">Die Erkennung des
Timeouts ber&uuml;cksichtigt nicht, dass evtl. ein Aufruf der
Connection zu lange dauert. Diesen Zugriff evtl. abzuschliessen
bleibt der Implementierung der Connection vorbehalten.</FONT></FONT></P>
<H1 CLASS="western"><FONT FACE="Garamond, serif"><FONT SIZE=3><FONT FACE="Garamond, serif"><FONT SIZE=4 STYLE="font-size: 16pt">Glossar</FONT></FONT></FONT></FONT></H1>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<TABLE WIDTH=627 CELLPADDING=0 CELLSPACING=0>
	<COL WIDTH=58>
	<COL WIDTH=569>
	<TR VALIGN=TOP>
		<TD WIDTH=58 STYLE="border: none; padding: 0cm">
			<P CLASS="western"><FONT FACE="Garamond, serif">DTP</FONT></P>
		</TD>
		<TD WIDTH=569 STYLE="border: none; padding: 0cm">
			<P CLASS="western"><FONT FACE="Garamond, serif">-&gt; TA, XA</FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=58 STYLE="border: none; padding: 0cm">
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD WIDTH=569 STYLE="border: none; padding: 0cm">
			<P CLASS="western"><FONT FACE="Garamond, serif"><I><U>D</U></I><I>istributed
			</I><I><U>T</U></I><I>rans</I><I><U>a</U></I><I>ction Processing
			</I>gem&auml;&szlig; Open-XA Spezifikation</FONT></P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<TABLE WIDTH=627 CELLPADDING=0 CELLSPACING=0>
	<COL WIDTH=58>
	<COL WIDTH=569>
	<TR VALIGN=TOP>
		<TD WIDTH=58 STYLE="border: none; padding: 0cm">
			<P CLASS="western"><FONT FACE="Garamond, serif">TA</FONT></P>
		</TD>
		<TD WIDTH=569 STYLE="border: none; padding: 0cm">
			<P CLASS="western"><FONT FACE="Garamond, serif">-&gt; DTA, XA</FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=58 STYLE="border: none; padding: 0cm">
			<P CLASS="western"><BR>
			</P>
		</TD>
		<TD WIDTH=569 STYLE="border: none; padding: 0cm">
			<P CLASS="western"><FONT FACE="Garamond, serif"><U>T</U>rans<U>a</U>ktion</FONT></P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal; page-break-before: always">
<BR><BR>
</P>
<H1 CLASS="western"><FONT FACE="Garamond, serif">Bibliography</FONT></H1>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<BR><BR>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>[JTA
1.1] </FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Spezifikation
(JSR-) des JTA Standards </FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT SIZE=3><FONT FACE="Garamond, serif">JTA
Specification 1.1
[</FONT><FONT COLOR="#0000ff"><U><A HREF="http://www.datadirect.com/developer/jdbc/docs/jta.pdf"><FONT FACE="Garamond, serif"><I>http://java.sun.com/javaee/technologies/jta/index.jsp</I></FONT></A></U></FONT><FONT FACE="Garamond, serif">]</FONT><FONT FACE="Garamond, serif"><FONT SIZE=3><FONT FACE="Garamond, serif">.
</FONT></FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Sun
Microsystems Inc. 2007</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
<FONT COLOR="#000000"><FONT FACE="Garamond, serif">[XA Spec] </FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT SIZE=3><FONT FACE="Garamond, serif">XA
Specification
[</FONT><FONT COLOR="#0000ff"><U><A HREF="http://www.datadirect.com/developer/jdbc/docs/jta.pdf"><FONT FACE="Garamond, serif"><I>http://www.opengroup.org/onlinepubs/009680699/toc.pdf</I></FONT></A></U></FONT><FONT FACE="Garamond, serif">]</FONT><FONT FACE="Garamond, serif"><FONT SIZE=3><FONT FACE="Garamond, serif">.
</FONT></FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>X/Open
Ltd 1991</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>[data_direct-2005]
</FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Nur
auf Basis der Begrifflichkeiten der JTA wie XAResource und XMID
werden unterschieldliche Szenarien der Kommunikation zwischen
TA-manager und XAresource demonstriert. </FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT SIZE=3><FONT FACE="Garamond, serif">Understanding
JTA [</FONT><FONT COLOR="#0000ff"><U><A HREF="http://www.datadirect.com/developer/jdbc/docs/jta.pdf"><FONT FACE="Garamond, serif"><I>http://www.datadirect.com/developer/jdbc/docs/jta.pdf</I></FONT></A></U></FONT><FONT FACE="Garamond, serif">]</FONT><FONT FACE="Garamond, serif"><FONT SIZE=3><FONT FACE="Garamond, serif">.
</FONT></FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>DATA
DIRECT Technology. May 2005.</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><BR>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>[mike_spille-2004]
</FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Umfangreiche
und detailierte Diskussion der unterschiedlichen Szenarien eines XA
Protokolls.</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT SIZE=3><FONT FACE="Garamond, serif">XA
Exposed Part I &ndash;III[</FONT><FONT COLOR="#0000ff"><U><A HREF="/D:/eclipse-workspaces/3.2.1/amis-head/centera-api/doc/%20http:/jroller.com/pyrasun/category/XA"><FONT FACE="Garamond, serif"><I>
http://jroller.com/pyrasun/category/XA</I></FONT></A></U></FONT><FONT FACE="Garamond, serif">]</FONT><FONT FACE="Garamond, serif"><FONT SIZE=3><FONT FACE="Garamond, serif">.
Mike Spille (im Rahmen TheServerSide.com).</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>2004.</FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>[gupta-1997]
</FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT FACE="Garamond, serif"><FONT SIZE=3>Grundlagen
zu OLTP. </FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT SIZE=3><FONT FACE="Garamond, serif">Commit
Processing in Distributed On-Line and Real-Time Transaction
Processing Systems <BR>[
</FONT><FONT COLOR="#0000ff"><U><A HREF="http://dsl.serc.iisc.ernet.in/publications/thesis/rkg.ps.gz"><FONT FACE="Garamond, serif"><I>http://dsl.serc.iisc.ernet.in/publications/thesis/rkg.ps.gz</I></FONT></A></U></FONT><FONT FACE="Garamond, serif">]</FONT><FONT FACE="Garamond, serif"><FONT SIZE=3><FONT FACE="Garamond, serif">.
</FONT></FONT></FONT></FONT></FONT>
</P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><FONT COLOR="#000000"><FONT SIZE=3><FONT FACE="Garamond, serif"><FONT SIZE=3><FONT FACE="Garamond, serif">Ramesh
Kumar Gupta (Promotion am Indian Institute of Science , Bangalore).
1997.</FONT></FONT></FONT></FONT></FONT></P>
<P ALIGN=LEFT STYLE="margin-top: 0.21cm; font-weight: normal"><BR>
</P>
<DIV TYPE=FOOTER>
	<TABLE WIDTH=689 CELLPADDING=5 CELLSPACING=0>
		<COL WIDTH=258>
		<COL WIDTH=144>
		<COL WIDTH=258>
		<TR VALIGN=TOP>
			<TD WIDTH=258 STYLE="border-top: 1.00pt solid #000000; border-bottom: none; border-left: none; border-right: none; padding: 0cm">
				<P ALIGN=LEFT STYLE="margin-top: 0.11cm; font-weight: normal"><BR>
				</P>
			</TD>
			<TD WIDTH=144 STYLE="border-top: 1.00pt solid #000000; border-bottom: none; border-left: none; border-right: none; padding: 0cm">
				<P ALIGN=CENTER STYLE="margin-top: 0.11cm; font-weight: normal"><BR>
				</P>
			</TD>
			<TD WIDTH=258 STYLE="border-top: 1.00pt solid #000000; border-bottom: none; border-left: none; border-right: none; padding: 0cm">
				<P ALIGN=RIGHT STYLE="margin-top: 0.11cm; font-weight: normal"><BR>
				</P>
			</TD>
		</TR>
	</TABLE>
	<P ALIGN=LEFT STYLE="margin-top: 0cm; margin-bottom: 0.11cm; font-weight: normal">
	<BR><BR>
	</P>
</DIV>
</BODY>
</HTML>